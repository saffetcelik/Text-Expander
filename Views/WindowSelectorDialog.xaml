<Window x:Class="OtomatikMetinGenisletici.Views.WindowSelectorDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        Title="ðŸ“‹ AÃ§Ä±k Pencerelerden SeÃ§" 
        Height="600" Width="700"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}"
        ui:WindowHelper.UseModernWindowStyle="True">
    
    <Grid Margin="24">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,16">
            <TextBlock Text="AÃ§Ä±k Pencerelerden SeÃ§" 
                       FontSize="24" 
                       FontWeight="Light" 
                       Foreground="{StaticResource PrimaryBrush}"/>
            <TextBlock Text="BilgisayarÄ±nÄ±zda ÅŸu anda aÃ§Ä±k olan pencerelerden istediÄŸinizi seÃ§in" 
                       FontSize="14" 
                       Foreground="Gray"/>
        </StackPanel>

        <!-- Filter Mode Selection -->
        <Border Grid.Row="1" Style="{StaticResource CardStyle}" Margin="0,0,0,16">
            <StackPanel>
                <TextBlock Text="ðŸŽ¯ Filtreleme Modu"
                           FontSize="16"
                           FontWeight="Medium"
                           Margin="0,0,0,12"/>

                <StackPanel Orientation="Horizontal">
                    <RadioButton Name="AllowListRadio"
                                 Content="âœ… Ä°zin Listesi (Sadece seÃ§ilenlerde Ã§alÄ±ÅŸ)"
                                 IsChecked="True"
                                 Margin="0,0,24,0"
                                 ToolTip="Program sadece seÃ§tiÄŸiniz pencerelerde Ã§alÄ±ÅŸÄ±r"/>
                    <RadioButton Name="BlockListRadio"
                                 Content="ðŸš« Engel Listesi (SeÃ§ilenler hariÃ§ her yerde Ã§alÄ±ÅŸ)"
                                 ToolTip="Program seÃ§tiÄŸiniz pencereler hariÃ§ her yerde Ã§alÄ±ÅŸÄ±r"/>
                </StackPanel>

                <TextBlock Name="ModeDescriptionText"
                           Text="Ä°zin Listesi: Program sadece seÃ§tiÄŸiniz pencerelerde Ã§alÄ±ÅŸÄ±r. DiÄŸer tÃ¼m pencereler engellenir."
                           FontSize="12"
                           Foreground="Gray"
                           Margin="0,8,0,0"
                           TextWrapping="Wrap"/>
            </StackPanel>
        </Border>

        <!-- Windows List -->
        <Border Grid.Row="2" Style="{StaticResource CardStyle}">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,12">
                    <TextBlock Text="ðŸªŸ AÃ§Ä±k Pencereler"
                               FontSize="16"
                               FontWeight="Medium"
                               VerticalAlignment="Center"/>
                    <Button Content="ðŸ”„ Yenile"
                            Name="RefreshButton"
                            Click="RefreshButton_Click"
                            Style="{StaticResource ModernButtonStyle}"
                            FontSize="12"
                            Padding="8,4"
                            Margin="16,0,0,0"/>
                </StackPanel>

                <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,0,0,8">
                    <Button Content="âœ… TÃ¼mÃ¼nÃ¼ SeÃ§"
                            Name="SelectAllButton"
                            Click="SelectAllButton_Click"
                            Style="{StaticResource ModernButtonStyle}"
                            FontSize="12"
                            Padding="8,4"
                            Margin="0,0,8,0"/>
                    <Button Content="âŒ TÃ¼mÃ¼nÃ¼ Temizle"
                            Name="ClearAllButton"
                            Click="ClearAllButton_Click"
                            Style="{StaticResource SecondaryButtonStyle}"
                            FontSize="12"
                            Padding="8,4"/>
                </StackPanel>

                <DataGrid Grid.Row="2"
                          Name="WindowsDataGrid"
                          AutoGenerateColumns="False"
                          CanUserAddRows="False"
                          CanUserDeleteRows="False"
                          GridLinesVisibility="Horizontal"
                          HeadersVisibility="Column"
                          SelectionMode="Extended"
                          AlternatingRowBackground="#F8F9FA"
                          RowBackground="White"
                          CellEditEnding="WindowsDataGrid_CellEditEnding">
                    <DataGrid.Columns>
                        <DataGridCheckBoxColumn Header="âœ…"
                                                Binding="{Binding IsSelected, UpdateSourceTrigger=PropertyChanged}"
                                                Width="50"/>
                        <DataGridTextColumn Header="ðŸ“±" 
                                            Binding="{Binding Icon}"
                                            Width="40"
                                            IsReadOnly="True"/>
                        <DataGridTextColumn Header="ðŸ“ Pencere BaÅŸlÄ±ÄŸÄ±" 
                                            Binding="{Binding Title}"
                                            Width="*"/>
                        <DataGridTextColumn Header="âš™ï¸ Process AdÄ±" 
                                            Binding="{Binding ProcessName}"
                                            Width="150"/>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="3" 
                    Orientation="Horizontal" 
                    HorizontalAlignment="Right"
                    Margin="0,16,0,0">
            <TextBlock Name="SelectionCountText"
                       Text="0 pencere seÃ§ildi"
                       VerticalAlignment="Center"
                       FontSize="12"
                       Foreground="Gray"
                       Margin="0,0,16,0"/>
            <Button Content="âž• SeÃ§ilenleri Ekle" 
                    Name="AddSelectedButton"
                    Style="{StaticResource SuccessButtonStyle}"
                    Click="AddSelectedButton_Click"
                    IsDefault="True"/>
            <Button Content="âŒ Ä°ptal" 
                    Name="CancelButton"
                    Style="{StaticResource ErrorButtonStyle}"
                    Click="CancelButton_Click"
                    IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
