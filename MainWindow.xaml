<Window x:Class="OtomatikMetinGenisletici.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:OtomatikMetinGenisletici"
        xmlns:helpers="clr-namespace:OtomatikMetinGenisletici.Helpers"
        xmlns:ui="http://schemas.modernwpf.com/2019"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        mc:Ignorable="d"
        Title="Gelişmiş Otomatik Metin Genişletici"
        Height="700" Width="1000"
        MinHeight="600" MinWidth="800"
        WindowStartupLocation="CenterScreen"
        Background="{DynamicResource SystemControlPageBackgroundChromeLowBrush}"
        ui:WindowHelper.UseModernWindowStyle="True">

    <Window.Resources>
        <!-- Converters -->
        <helpers:BoolToStatusConverter x:Key="BoolToStatusConverter"/>
        <helpers:NullToBooleanConverter x:Key="NullToBooleanConverter"/>



        <!-- Modern Styles -->
        <Style x:Key="HeaderTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Light"/>
            <Setter Property="Foreground" Value="{StaticResource PrimaryBrush}"/>
            <Setter Property="Margin" Value="0,0,0,16"/>
        </Style>

        <Style x:Key="SubHeaderTextStyle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Foreground" Value="{StaticResource OnSurfaceBrush}"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>

        <Style x:Key="StatsCardStyle" TargetType="Border" BasedOn="{StaticResource CardStyle}">
            <Setter Property="MinHeight" Value="80"/>
            <Setter Property="Background" Value="{StaticResource PrimaryBrush}"/>
        </Style>

        <Style x:Key="StatsTextStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>

        <Style x:Key="CenterAlignedTextStyle" TargetType="TextBlock">
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="TextAlignment" Value="Center"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="{StaticResource PrimaryBrush}" Padding="24,16">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0">
                    <TextBlock Text="Gelişmiş Otomatik Metin Genişletici"
                               FontSize="24"
                               FontWeight="Light"
                               Foreground="White"/>
                    <TextBlock Text="Akıllı kısayol yönetimi ve öneri sistemi"
                               FontSize="14"
                               Foreground="White"
                               Opacity="0.8"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Content="🔗 Kısayol Önizlemesi"
                            Style="{StaticResource ModernButtonStyle}"
                            Background="Transparent"
                            BorderThickness="1"
                            BorderBrush="White"
                            Click="ToggleShortcutPreview_Click"
                            Margin="8,0"
                            ToolTip="Kısayol önizleme panelini göster/gizle"/>
                    <Button Content="⚙️ Ayarlar"
                            Style="{StaticResource ModernButtonStyle}"
                            Background="Transparent"
                            BorderThickness="1"
                            BorderBrush="White"
                            Click="ShowSettings_Click"
                            Margin="8,0"/>
                    <Button Content="ℹ️ Hakkında"
                            Style="{StaticResource ModernButtonStyle}"
                            Background="Transparent"
                            BorderThickness="1"
                            BorderBrush="White"
                            Click="ShowAbout_Click"
                            Margin="8,0"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Stats Cards -->
        <Grid Grid.Row="1" Margin="24,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" Style="{StaticResource StatsCardStyle}">
                <StackPanel>
                    <TextBlock Text="{Binding TotalShortcuts}"
                               FontSize="32"
                               Style="{StaticResource StatsTextStyle}"/>
                    <TextBlock Text="Toplam Kısayol"
                               FontSize="12"
                               Style="{StaticResource StatsTextStyle}"/>
                </StackPanel>
            </Border>

            <Border Grid.Column="1" Style="{StaticResource StatsCardStyle}" Background="{StaticResource SuccessBrush}">
                <StackPanel>
                    <TextBlock Text="{Binding TotalExpansions}"
                               FontSize="32"
                               Style="{StaticResource StatsTextStyle}"/>
                    <TextBlock Text="Toplam Genişletme"
                               FontSize="12"
                               Style="{StaticResource StatsTextStyle}"/>
                </StackPanel>
            </Border>

            <Border Grid.Column="2" Style="{StaticResource StatsCardStyle}" Background="{StaticResource WarningBrush}">
                <StackPanel>
                    <TextBlock Text="{Binding IsListening, Converter={StaticResource BoolToStatusConverter}}"
                               FontSize="16"
                               Style="{StaticResource StatsTextStyle}"/>
                    <TextBlock Text="Dinleme Durumu"
                               FontSize="12"
                               Style="{StaticResource StatsTextStyle}"/>
                </StackPanel>
            </Border>

            <Border Grid.Column="3" Style="{StaticResource StatsCardStyle}" Background="{StaticResource InfoBrush}">
                <StackPanel>
                    <TextBlock Text="{Binding WindowFilteringStatusText}"
                               FontSize="16"
                               Style="{StaticResource StatsTextStyle}"/>
                    <TextBlock Text="Pencere Filtreleme"
                               FontSize="12"
                               Style="{StaticResource StatsTextStyle}"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Main Content -->
        <TabControl Grid.Row="2" Margin="24,0,24,24" Background="Transparent">
            <!-- Shortcuts Tab -->
            <TabItem Header="🔗 Kısayollar">
                <Border Style="{StaticResource CardStyle}" Margin="0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <!-- Search Box -->
                        <TextBox Grid.Row="0"
                                 Text="{Binding ShortcutFilter, UpdateSourceTrigger=PropertyChanged}"
                                 Style="{StaticResource ModernTextBoxStyle}"
                                 Margin="0,0,0,16">
                            <ui:ControlHelper.PlaceholderText>Kısayolları ara...</ui:ControlHelper.PlaceholderText>
                        </TextBox>

                        <!-- Action Buttons -->
                        <StackPanel Grid.Row="1"
                                    Orientation="Horizontal"
                                    HorizontalAlignment="Left"
                                    Margin="0,0,0,16">
                            <Button Content="➕ Ekle"
                                    Style="{StaticResource SuccessButtonStyle}"
                                    Command="{Binding AddShortcutCommand}"/>
                            <Button Content="✏️ Düzenle"
                                    Style="{StaticResource ModernButtonStyle}"
                                    Command="{Binding EditShortcutCommand}"/>
                            <Button Content="🗑️ Sil"
                                    Style="{StaticResource ErrorButtonStyle}"
                                    Command="{Binding DeleteShortcutCommand}"/>
                        </StackPanel>

                        <!-- Shortcuts DataGrid -->
                        <DataGrid Grid.Row="2"
                                  ItemsSource="{Binding FilteredShortcuts}"
                                  SelectedItem="{Binding SelectedShortcut}"
                                  AutoGenerateColumns="False"
                                  CanUserAddRows="False"
                                  GridLinesVisibility="Horizontal"
                                  HeadersVisibility="Column"
                                  Background="White"
                                  BorderThickness="1"
                                  BorderBrush="#E0E0E0">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Kısayol"
                                                  Binding="{Binding Key}"
                                                  Width="150"
                                                  FontWeight="Bold"/>
                                <DataGridTextColumn Header="Genişletilmiş Metin"
                                                  Binding="{Binding ShortExpansion}"
                                                  Width="*"/>
                                <DataGridTextColumn Header="Kullanım"
                                                  Binding="{Binding UsageCount}"
                                                  Width="80"/>
                                <DataGridTextColumn Header="Son Kullanım"
                                                  Binding="{Binding LastUsed, StringFormat=dd.MM.yyyy}"
                                                  Width="120"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </Grid>
                </Border>
            </TabItem>

            <!-- Smart Suggestions Tab -->
            <TabItem Header="🧠 Akıllı Öneriler">
                <ScrollViewer VerticalScrollBarVisibility="Auto">
                    <StackPanel Margin="16">
                        <!-- Statistics Overview -->
                        <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                            <StackPanel>
                                <TextBlock Text="📊 Genel İstatistikler"
                                           Style="{StaticResource SubHeaderTextStyle}"
                                           Margin="0,0,0,16"/>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Total Words -->
                                    <Border Grid.Column="0" Background="#E3F2FD" CornerRadius="8" Padding="16" Margin="0,0,8,0">
                                        <StackPanel HorizontalAlignment="Center">
                                            <TextBlock Text="📚" FontSize="24" HorizontalAlignment="Center"/>
                                            <TextBlock Text="{Binding TotalLearnedWords}"
                                                       FontSize="20" FontWeight="Bold"
                                                       HorizontalAlignment="Center"/>
                                            <TextBlock Text="Öğrenilen Kelime"
                                                       FontSize="12"
                                                       HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>

                                    <!-- Total Suggestions -->
                                    <Border Grid.Column="1" Background="#E8F5E8" CornerRadius="8" Padding="16" Margin="0,0,8,0">
                                        <StackPanel HorizontalAlignment="Center">
                                            <TextBlock Text="💡" FontSize="24" HorizontalAlignment="Center"/>
                                            <TextBlock Text="{Binding TotalSuggestionsGiven}"
                                                       FontSize="20" FontWeight="Bold"
                                                       HorizontalAlignment="Center"/>
                                            <TextBlock Text="Verilen Öneri"
                                                       FontSize="12"
                                                       HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>

                                    <!-- Accepted Suggestions -->
                                    <Border Grid.Column="2" Background="#FFF3E0" CornerRadius="8" Padding="16" Margin="0,0,8,0">
                                        <StackPanel HorizontalAlignment="Center">
                                            <TextBlock Text="✅" FontSize="24" HorizontalAlignment="Center"/>
                                            <TextBlock Text="{Binding AcceptedSuggestions}"
                                                       FontSize="20" FontWeight="Bold"
                                                       HorizontalAlignment="Center"/>
                                            <TextBlock Text="Kabul Edilen"
                                                       FontSize="12"
                                                       HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>

                                    <!-- Accuracy Rate -->
                                    <Border Grid.Column="3" Background="#F3E5F5" CornerRadius="8" Padding="16">
                                        <StackPanel HorizontalAlignment="Center">
                                            <TextBlock Text="🎯" FontSize="24" HorizontalAlignment="Center"/>
                                            <TextBlock Text="{Binding AccuracyRate, StringFormat=P1}"
                                                       FontSize="20" FontWeight="Bold"
                                                       HorizontalAlignment="Center"/>
                                            <TextBlock Text="Doğruluk Oranı"
                                                       FontSize="12"
                                                       HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </Border>

                        <!-- Main Content Grid -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Left Column -->
                            <StackPanel Grid.Column="0" Margin="0,0,8,0">



                                <!-- Most Used Words -->
                                <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                                    <StackPanel>
                                        <TextBlock Text="🔥 En Çok Kullanılan Kelimeler"
                                                   Style="{StaticResource SubHeaderTextStyle}"
                                                   Margin="0,0,0,16"/>

                                        <DataGrid ItemsSource="{Binding MostUsedWords}"
                                                  AutoGenerateColumns="False"
                                                  CanUserAddRows="False"
                                                  CanUserDeleteRows="False"
                                                  IsReadOnly="True"
                                                  GridLinesVisibility="None"
                                                  HeadersVisibility="Column"
                                                  MaxHeight="200">
                                            <DataGrid.Columns>
                                                <DataGridTextColumn Header="#" Binding="{Binding Rank}" Width="30"/>
                                                <DataGridTextColumn Header="Kelime" Binding="{Binding Word}" Width="*"/>
                                                <DataGridTextColumn Header="Kullanım" Binding="{Binding Count}" Width="60"/>
                                                <DataGridTemplateColumn Header="Grafik" Width="100">
                                                    <DataGridTemplateColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <ProgressBar Value="{Binding Percentage}"
                                                                         Maximum="100"
                                                                         Height="8"
                                                                         Background="LightGray"
                                                                         Foreground="{StaticResource PrimaryBrush}"/>
                                                        </DataTemplate>
                                                    </DataGridTemplateColumn.CellTemplate>
                                                </DataGridTemplateColumn>
                                            </DataGrid.Columns>
                                        </DataGrid>
                                    </StackPanel>
                                </Border>

                                <!-- N-Gram Analysis -->
                                <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                                    <StackPanel>
                                        <TextBlock Text="🔗 N-Gram Analizi"
                                                   Style="{StaticResource SubHeaderTextStyle}"
                                                   Margin="0,0,0,16"/>

                                        <TabControl>
                                            <TabItem Header="Bir Kelime Dizileri">
                                                <DataGrid ItemsSource="{Binding MostUsedWords}"
                                                          AutoGenerateColumns="False"
                                                          CanUserAddRows="False"
                                                          CanUserDeleteRows="False"
                                                          IsReadOnly="False"
                                                          GridLinesVisibility="None"
                                                          HeadersVisibility="Column"
                                                          MaxHeight="150"
                                                          SelectionMode="Single">
                                                    <DataGrid.Columns>
                                                        <DataGridTextColumn Header="#" Binding="{Binding Rank}" Width="30" IsReadOnly="True"/>
                                                        <DataGridTextColumn Header="Kelime" Binding="{Binding Word}" Width="*"/>
                                                        <DataGridTextColumn Header="Sıklık" Binding="{Binding Count}" Width="60"/>
                                                        <DataGridTemplateColumn Header="İşlemler" Width="120">
                                                            <DataGridTemplateColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <Button Content="✏️" ToolTip="Düzenle"
                                                                                Style="{StaticResource ModernButtonStyle}"
                                                                                FontSize="10" Padding="4"
                                                                                Click="EditWord_Click"
                                                                                Tag="{Binding}"
                                                                                Margin="0,0,4,0"/>
                                                                        <Button Content="🗑️" ToolTip="Sil"
                                                                                Style="{StaticResource ErrorButtonStyle}"
                                                                                FontSize="10" Padding="4"
                                                                                Click="DeleteWord_Click"
                                                                                Tag="{Binding}"/>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </DataGridTemplateColumn.CellTemplate>
                                                        </DataGridTemplateColumn>
                                                    </DataGrid.Columns>
                                                </DataGrid>
                                            </TabItem>

                                            <TabItem Header="İki Kelime Dizileri">
                                                <DataGrid ItemsSource="{Binding TopBigrams}"
                                                          AutoGenerateColumns="False"
                                                          CanUserAddRows="False"
                                                          CanUserDeleteRows="False"
                                                          IsReadOnly="False"
                                                          GridLinesVisibility="None"
                                                          HeadersVisibility="Column"
                                                          MaxHeight="150"
                                                          SelectionMode="Single">
                                                    <DataGrid.Columns>
                                                        <DataGridTextColumn Header="#" Binding="{Binding Rank}" Width="30" IsReadOnly="True"/>
                                                        <DataGridTextColumn Header="İki Kelime Dizisi" Binding="{Binding NGram}" Width="*"/>
                                                        <DataGridTextColumn Header="Sıklık" Binding="{Binding Count}" Width="60"/>
                                                        <DataGridTemplateColumn Header="İşlemler" Width="120">
                                                            <DataGridTemplateColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <Button Content="✏️" ToolTip="Düzenle"
                                                                                Style="{StaticResource ModernButtonStyle}"
                                                                                FontSize="10" Padding="4"
                                                                                Click="EditBigram_Click"
                                                                                Tag="{Binding}"
                                                                                Margin="0,0,4,0"/>
                                                                        <Button Content="🗑️" ToolTip="Sil"
                                                                                Style="{StaticResource ErrorButtonStyle}"
                                                                                FontSize="10" Padding="4"
                                                                                Click="DeleteBigram_Click"
                                                                                Tag="{Binding}"/>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </DataGridTemplateColumn.CellTemplate>
                                                        </DataGridTemplateColumn>
                                                    </DataGrid.Columns>
                                                </DataGrid>
                                            </TabItem>

                                            <TabItem Header="Üç Kelime Dizileri">
                                                <DataGrid ItemsSource="{Binding TopTrigrams}"
                                                          AutoGenerateColumns="False"
                                                          CanUserAddRows="False"
                                                          CanUserDeleteRows="False"
                                                          IsReadOnly="False"
                                                          GridLinesVisibility="None"
                                                          HeadersVisibility="Column"
                                                          MaxHeight="150"
                                                          SelectionMode="Single">
                                                    <DataGrid.Columns>
                                                        <DataGridTextColumn Header="#" Binding="{Binding Rank}" Width="30" IsReadOnly="True"/>
                                                        <DataGridTextColumn Header="Üç Kelime Dizisi" Binding="{Binding NGram}" Width="*"/>
                                                        <DataGridTextColumn Header="Sıklık" Binding="{Binding Count}" Width="60"/>
                                                        <DataGridTemplateColumn Header="İşlemler" Width="120">
                                                            <DataGridTemplateColumn.CellTemplate>
                                                                <DataTemplate>
                                                                    <StackPanel Orientation="Horizontal">
                                                                        <Button Content="✏️" ToolTip="Düzenle"
                                                                                Style="{StaticResource ModernButtonStyle}"
                                                                                FontSize="10" Padding="4"
                                                                                Click="EditTrigram_Click"
                                                                                Tag="{Binding}"
                                                                                Margin="0,0,4,0"/>
                                                                        <Button Content="🗑️" ToolTip="Sil"
                                                                                Style="{StaticResource ErrorButtonStyle}"
                                                                                FontSize="10" Padding="4"
                                                                                Click="DeleteTrigram_Click"
                                                                                Tag="{Binding}"/>
                                                                    </StackPanel>
                                                                </DataTemplate>
                                                            </DataGridTemplateColumn.CellTemplate>
                                                        </DataGridTemplateColumn>
                                                    </DataGrid.Columns>
                                                </DataGrid>
                                            </TabItem>
                                        </TabControl>
                                    </StackPanel>
                                </Border>
                            </StackPanel>

                            <!-- Right Column -->
                            <StackPanel Grid.Column="1" Margin="8,0,0,0">



                                <!-- N-Gram Settings -->
                                <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                                    <StackPanel>
                                        <TextBlock Text="⚙️ N-Gram Ayarları"
                                                   Style="{StaticResource SubHeaderTextStyle}"
                                                   Margin="0,0,0,16"/>

                                        <StackPanel>
                                            <TextBlock Text="Gösterilecek N-Gram Sayısı:" FontWeight="Bold" Margin="0,0,0,4"/>
                                            <Slider x:Name="NGramCountSlider"
                                                    Minimum="5" Maximum="20" Value="10"
                                                    TickFrequency="5" IsSnapToTickEnabled="True"
                                                    ValueChanged="NGramCountSlider_ValueChanged"/>
                                            <TextBlock Text="{Binding ElementName=NGramCountSlider, Path=Value, StringFormat='{}{0:F0} adet'}"
                                                       FontSize="10" Foreground="Gray" Margin="0,2,0,8"/>

                                            <TextBlock Text="Minimum Sıklık:" FontWeight="Bold" Margin="0,0,0,4"/>
                                            <Slider x:Name="MinFrequencySlider"
                                                    Minimum="1" Maximum="10" Value="2"
                                                    TickFrequency="1" IsSnapToTickEnabled="True"
                                                    ValueChanged="MinFrequencySlider_ValueChanged"/>
                                            <TextBlock Text="{Binding ElementName=MinFrequencySlider, Path=Value, StringFormat='En az {0:F0} kez kullanılmış'}"
                                                       FontSize="10" Foreground="Gray" Margin="0,2,0,8"/>

                                            <Button Content="🔄 N-Gram Verilerini Yenile"
                                                    Style="{StaticResource ModernButtonStyle}"
                                                    Click="RefreshNGramData_Click"/>
                                        </StackPanel>
                                    </StackPanel>
                                </Border>

                                <!-- Data Management -->
                                <Border Style="{StaticResource CardStyle}">
                                    <StackPanel>
                                        <TextBlock Text="💾 Veri Yönetimi"
                                                   Style="{StaticResource SubHeaderTextStyle}"
                                                   Margin="0,0,0,16"/>

                                        <Button Content="📊 Detaylı İstatistikler"
                                                Style="{StaticResource ModernButtonStyle}"
                                                Click="ShowDetailedStats_Click"
                                                Margin="0,0,0,8"/>

                                        <Button Content="📤 Verileri Dışa Aktar"
                                                Style="{StaticResource ModernButtonStyle}"
                                                Click="ExportSmartSuggestionsData_Click"
                                                Margin="0,0,0,8"/>

                                        <Button Content="📥 Verileri İçe Aktar"
                                                Style="{StaticResource ModernButtonStyle}"
                                                Click="ImportSmartSuggestionsData_Click"
                                                Margin="0,0,0,8"/>

                                        <Separator Margin="0,8"/>

                                        <Button Content="🗑️ Tüm Verileri Sıfırla"
                                                Style="{StaticResource ErrorButtonStyle}"
                                                Click="ResetSmartSuggestionsData_Click"/>
                                    </StackPanel>
                                </Border>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Learning Logs Tab -->
            <TabItem Header="📝 Öğrenme Logları">
                <Border Style="{StaticResource CardStyle}" Margin="0">
                    <StackPanel Margin="16">
                        <!-- Header Section -->
                        <Grid Margin="0,0,0,16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <StackPanel Grid.Column="0">
                                <TextBlock Text="📝 Öğrenme Logları"
                                           Style="{StaticResource HeaderTextStyle}"/>
                                <TextBlock Text="Yazım alışkanlıklarınızı öğrenen akıllı öneri sistemi"
                                           FontSize="14"
                                           Foreground="Gray"/>
                                <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                                    <TextBlock Text="Durum: " FontWeight="Bold"/>
                                    <TextBlock Text="Aktif"
                                               Foreground="Green"/>
                                </StackPanel>
                            </StackPanel>

                            <StackPanel Grid.Column="1" Orientation="Horizontal">
                                <Button Content="🔄 Yenile"
                                        Style="{StaticResource ModernButtonStyle}"
                                        Click="RefreshSmartSuggestions_Click"
                                        Margin="0,0,8,0"/>
                                <Button Content="⚙️ Ayarlar"
                                        Style="{StaticResource ModernButtonStyle}"
                                        Click="OpenSmartSuggestionsSettings_Click"/>
                            </StackPanel>
                        </Grid>

                        <!-- Öğrenme Logu -->
                        <Border Style="{StaticResource CardStyle}" Margin="0,0,0,16">
                            <StackPanel>
                                <TextBlock Text="📝 Öğrenme Logu"
                                           Style="{StaticResource SubHeaderTextStyle}"
                                           Margin="0,0,0,12"/>

                                <DataGrid ItemsSource="{Binding LearningLogEntries}"
                                          AutoGenerateColumns="False"
                                          CanUserAddRows="False"
                                          CanUserDeleteRows="False"
                                          IsReadOnly="True"
                                          GridLinesVisibility="Horizontal"
                                          HeadersVisibility="Column"
                                          Height="300"
                                          SelectionMode="Single"
                                          AlternatingRowBackground="#F8F9FA"
                                          RowBackground="White">
                                    <DataGrid.Columns>
                                        <DataGridTextColumn Header="#" Binding="{Binding Id}" Width="40"
                                                            ElementStyle="{StaticResource CenterAlignedTextStyle}"/>
                                        <DataGridTextColumn Header="Tarih" Binding="{Binding Date}" Width="80"
                                                            ElementStyle="{StaticResource CenterAlignedTextStyle}"/>
                                        <DataGridTextColumn Header="Saat" Binding="{Binding Time}" Width="70"
                                                            ElementStyle="{StaticResource CenterAlignedTextStyle}"/>
                                        <DataGridTextColumn Header="Öğrenilen Cümle" Binding="{Binding Sentence}" Width="*"/>
                                        <DataGridTextColumn Header="Kelime" Binding="{Binding WordCount}" Width="60"
                                                            ElementStyle="{StaticResource CenterAlignedTextStyle}"/>
                                    </DataGrid.Columns>
                                </DataGrid>

                                <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                                    <Button Content="🔄 Logu Temizle"
                                            Style="{StaticResource ModernButtonStyle}"
                                            Click="ClearLearningLog_Click"
                                            Margin="0,0,8,0"/>
                                    <TextBlock Text="{Binding TotalLearnedSentences, StringFormat='Toplam Öğrenilen Cümle: {0}'}"
                                               VerticalAlignment="Center"
                                               FontSize="12"
                                               Foreground="Gray"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- Log Statistics -->
                        <Border Style="{StaticResource CardStyle}">
                            <StackPanel>
                                <TextBlock Text="📊 Log İstatistikleri"
                                           Style="{StaticResource SubHeaderTextStyle}"
                                           Margin="0,0,0,16"/>

                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <!-- Total Learned Sentences -->
                                    <Border Grid.Column="0" Background="#E3F2FD" CornerRadius="8" Padding="16" Margin="0,0,8,0">
                                        <StackPanel HorizontalAlignment="Center">
                                            <TextBlock Text="📚" FontSize="24" HorizontalAlignment="Center"/>
                                            <TextBlock Text="{Binding TotalLearnedSentences}"
                                                       FontSize="20" FontWeight="Bold"
                                                       HorizontalAlignment="Center"/>
                                            <TextBlock Text="Öğrenilen Cümle"
                                                       FontSize="12"
                                                       HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>

                                    <!-- Learning Rate -->
                                    <Border Grid.Column="1" Background="#E8F5E8" CornerRadius="8" Padding="16" Margin="0,0,8,0">
                                        <StackPanel HorizontalAlignment="Center">
                                            <TextBlock Text="📈" FontSize="24" HorizontalAlignment="Center"/>
                                            <TextBlock Text="{Binding LearningRate, StringFormat='{}{0:F1}/gün'}"
                                                       FontSize="20" FontWeight="Bold"
                                                       HorizontalAlignment="Center"/>
                                            <TextBlock Text="Öğrenme Hızı"
                                                       FontSize="12"
                                                       HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>

                                    <!-- Last Learning -->
                                    <Border Grid.Column="2" Background="#FFF3E0" CornerRadius="8" Padding="16">
                                        <StackPanel HorizontalAlignment="Center">
                                            <TextBlock Text="🕒" FontSize="24" HorizontalAlignment="Center"/>
                                            <TextBlock Text="{Binding LastLearningTime, StringFormat='dd.MM.yyyy'}"
                                                       FontSize="16" FontWeight="Bold"
                                                       HorizontalAlignment="Center"/>
                                            <TextBlock Text="Son Öğrenme"
                                                       FontSize="12"
                                                       HorizontalAlignment="Center"/>
                                        </StackPanel>
                                    </Border>
                                </Grid>
                            </StackPanel>
                        </Border>
                    </StackPanel>
                </Border>
            </TabItem>

        </TabControl>
    </Grid>
</Window>
